---
title: Hexo博客文件及部署环境无缝迁移新电脑
date: 2025-01-08 19:07:56
tags: 个人博客
toc: false # 是否启用内容索引
---
## 1.简介
本人有两台电脑，一台是MacbookPro 2017（Intel），一台是MacBook Pro 14（M1），之前搭建的博客更新环境是在mbp2017上，包括
* **node：**作为 Hexo 运行的基础环境，为整个博客系统提供支撑。
* **hexo：**博客的核心引擎，负责将我们撰写的 Markdown 文件转化为精美的网页。
* **git：**用于版本控制，方便我管理博客文件的变更历史，确保数据安全。
* **vercel：**作为静态网站的部署平台，让我的博客能够快速且稳定地在互联网上展示。
* **typora：**一款简洁高效的本地博客编辑器，可以联动picgo上传图片，极大提升写作体验。
* **picgo：**专门用于图片上传，轻松搞定图片资源的管理。
* **cleanshot X：**强大的截图工具，为博客创作提供丰富的素材采集方式。
* **lankong：**我的私有图床，保障图片存储与调用的高效性。
在 GitHub 上，用一个仓库实现了双重功能。仓库的 master 分支存放 Hexo 博客的静态文件，通过 GitHub Pages 能直接展示博客内容，每次编辑完成后，执行 hexo d 命令，将最新的静态文件上传更新。main 分支则保存了博客的全部源码，像 source 文件夹里的 md 文件（也就是博客文章的原始内容）、themes 文件夹（存放博客主题相关文件）等。这个 main 分支是我在 GitHub 上新建后，手动将本地文件推送上去的，实现了博客展示与文件托管在同一仓库的便捷管理。
## 2.迁移
后来想在 M1 电脑上部署，拉取 main 分支后得重建环境，摸索出的流程如下：
1. **git安装并配置ssh key**：与 GitHub 安全通信。
2. **node安装及检查**：为 Hexo 准备运行环境。
3. **Hexo安装**（具体操作[见这里](https://blog.gwbiao.eu.org/2023/11/21/%E4%BF%9D%E5%A7%86%E7%BA%A7%E6%95%99%E7%A8%8B%E6%90%AD%E5%BB%BA%E5%85%8D%E8%B4%B9%E5%8D%9A%E5%AE%A2%EF%BC%88Hexo-GitHub-Vercel-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D-%E4%B8%BB%E9%A2%98%EF%BC%89/)）
4. **生成依赖文件**：新建文件夹，cd进入，执行hexo init得到package.json，它记录新电脑的环境依赖 。
5. **替换依赖文件**：git clone仓库，进入项目文件夹，git checkout main，把上一步的package.json复制到此覆盖原文件，旧文件是旧电脑的依赖信息。这步可让我费了不少功夫。
6. **验证 hexo 命令**：此时在项目文件夹就能执行 hexo 命令。
7. **安装发布扩展包**：参照上一篇文章操作。
8. **部署到 vercel**：同样参照上一篇，按 vercel 命令提示操作。
按照这些步骤，就能在新电脑上成功搭建 Hexo 博客环境，实现迁移。要是有问题，欢迎留言交流。